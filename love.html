<!DOCTYPE html>
<html>
<head>
	<title>Love</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div id="content">
	<div>
		<canvas id="myCanvas" width="500" height="500"></canvas>
	</div>
	<div>
		
	</div>
</div>
<script type="text/javascript">
	var canvas = document.getElementById("myCanvas");
	if(canvas.getContext){
		var context = canvas.getContext("2d");
		var width = canvas.width;
		var height = canvas.height;
		var originX = width / 2;
		var originY = height / 2;
		console.log("坐标系原点为：(" + originX + "," + originY + ")");
		
	    context.moveTo(0, originY);
	    context.lineTo(width,originY);
	    context.strokeStyle = "black";
	    context.stroke();
	    
	    context.moveTo(originX, 0);
	    context.lineTo(originX, height);
	    context.strokeStyle = "black";
	    context.stroke();
		    
	    //r=a(1-sinθ)
	    var num = 100;
	    var a = 100;
	    var lastx = originX + a;
	    var lasty = originY;
	    var i = 1;

	    window.requestAnimationFrame(draw);
        function draw(){
      		let theta = 2 * Math.PI * i / num;
      		let r = a * (1 - Math.sin(theta));
	      	let x = r * Math.cos(theta) + originX;
	      	let y = originY - r * Math.sin(theta);
	      	
	      	context.beginPath();
	      	context.moveTo(lastx, lasty);
	  	  	context.lineTo(x, y);
	  	  	context.strokeStyle = "red";
	  	  	context.stroke();
	  	  	lastx = x;
	  	  	lasty = y; 
	  	  	i++;
	  	  	window.requestAnimationFrame(draw);
      	}
    }
	
</script>
</body>
</html>